2026-02-05 00:02:36.466 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7071/api/Auth/login - application/json 53
2026-02-05 00:02:36.704 +05:30 [INF] Executing endpoint 'ComplaintManagementSystem.API.Controllers.AuthController.login (ComplaintManagementSystem.API)'
2026-02-05 00:02:36.768 +05:30 [INF] Route matched with {action = "login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult login(ComplaintManagementSystem.Application.DTOs.LoginDto) on controller ComplaintManagementSystem.API.Controllers.AuthController (ComplaintManagementSystem.API).
2026-02-05 00:02:36.913 +05:30 [INF] Executing ComplaintManagementSystem.API.Controllers.AuthController.login (ComplaintManagementSystem.API)
2026-02-05 00:02:37.235 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedDate], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-02-05 00:02:37.334 +05:30 [INF] Executed ComplaintManagementSystem.API.Controllers.AuthController.login (ComplaintManagementSystem.API)
2026-02-05 00:02:37.353 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 00:02:37.380 +05:30 [INF] Executed action ComplaintManagementSystem.API.Controllers.AuthController.login (ComplaintManagementSystem.API) in 596.197ms
2026-02-05 00:02:37.384 +05:30 [INF] Executed endpoint 'ComplaintManagementSystem.API.Controllers.AuthController.login (ComplaintManagementSystem.API)'
2026-02-05 00:02:37.400 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7071/api/Auth/login - 200 null application/json; charset=utf-8 935.3534ms
2026-02-05 00:03:48.449 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7071/api/Complaints - application/json 65
2026-02-05 00:03:48.493 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-02-05 00:03:48.511 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-05 00:03:48.514 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7071/api/Complaints - 401 0 null 68.6098ms
2026-02-05 00:04:03.171 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7071/api/Auth/login - application/json 53
2026-02-05 00:04:03.357 +05:30 [INF] Executing endpoint 'ComplaintManagementSystem.API.Controllers.AuthController.login (ComplaintManagementSystem.API)'
2026-02-05 00:04:03.361 +05:30 [INF] Route matched with {action = "login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult login(ComplaintManagementSystem.Application.DTOs.LoginDto) on controller ComplaintManagementSystem.API.Controllers.AuthController (ComplaintManagementSystem.API).
2026-02-05 00:04:03.375 +05:30 [INF] Executing ComplaintManagementSystem.API.Controllers.AuthController.login (ComplaintManagementSystem.API)
2026-02-05 00:04:03.572 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedDate], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-02-05 00:04:03.580 +05:30 [INF] Executed ComplaintManagementSystem.API.Controllers.AuthController.login (ComplaintManagementSystem.API)
2026-02-05 00:04:03.584 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 00:04:03.587 +05:30 [INF] Executed action ComplaintManagementSystem.API.Controllers.AuthController.login (ComplaintManagementSystem.API) in 219.1876ms
2026-02-05 00:04:03.590 +05:30 [INF] Executed endpoint 'ComplaintManagementSystem.API.Controllers.AuthController.login (ComplaintManagementSystem.API)'
2026-02-05 00:04:03.594 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7071/api/Auth/login - 200 null application/json; charset=utf-8 423.6109ms
2026-02-05 00:04:29.004 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7071/api/Complaints - application/json 65
2026-02-05 00:04:29.031 +05:30 [INF] Executing endpoint 'ComplaintManagementSystem.API.Controllers.ComplaintsController.Create (ComplaintManagementSystem.API)'
2026-02-05 00:04:29.042 +05:30 [INF] Route matched with {action = "Create", controller = "Complaints"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create(ComplaintManagementSystem.Application.DTOs.CreateComplaintDto) on controller ComplaintManagementSystem.API.Controllers.ComplaintsController (ComplaintManagementSystem.API).
2026-02-05 00:04:29.150 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-05 00:04:29.197 +05:30 [INF] Executed action ComplaintManagementSystem.API.Controllers.ComplaintsController.Create (ComplaintManagementSystem.API) in 150.3542ms
2026-02-05 00:04:29.202 +05:30 [INF] Executed endpoint 'ComplaintManagementSystem.API.Controllers.ComplaintsController.Create (ComplaintManagementSystem.API)'
2026-02-05 00:04:29.204 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7071/api/Complaints - 400 null application/problem+json; charset=utf-8 202.0252ms
2026-02-05 00:08:04.301 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7071/api/Auth/login - application/json 53
2026-02-05 00:08:04.328 +05:30 [INF] Executing endpoint 'ComplaintManagementSystem.API.Controllers.AuthController.login (ComplaintManagementSystem.API)'
2026-02-05 00:08:04.332 +05:30 [INF] Route matched with {action = "login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult login(ComplaintManagementSystem.Application.DTOs.LoginDto) on controller ComplaintManagementSystem.API.Controllers.AuthController (ComplaintManagementSystem.API).
2026-02-05 00:08:04.348 +05:30 [INF] Executing ComplaintManagementSystem.API.Controllers.AuthController.login (ComplaintManagementSystem.API)
2026-02-05 00:08:04.364 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedDate], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-02-05 00:08:04.376 +05:30 [INF] Executed ComplaintManagementSystem.API.Controllers.AuthController.login (ComplaintManagementSystem.API)
2026-02-05 00:08:04.379 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 00:08:04.388 +05:30 [INF] Executed action ComplaintManagementSystem.API.Controllers.AuthController.login (ComplaintManagementSystem.API) in 47.0268ms
2026-02-05 00:08:04.393 +05:30 [INF] Executed endpoint 'ComplaintManagementSystem.API.Controllers.AuthController.login (ComplaintManagementSystem.API)'
2026-02-05 00:08:04.398 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7071/api/Auth/login - 200 null application/json; charset=utf-8 101.308ms
2026-02-05 00:08:35.052 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7071/api/Complaints - application/json 65
2026-02-05 00:08:35.087 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-02-05 00:08:35.098 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2026-02-05 00:08:35.103 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7071/api/Complaints - 403 0 null 52.0782ms
2026-02-05 00:26:51.618 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-05 00:26:51.696 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-05 00:26:51.700 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-05 00:26:51.701 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-05 00:26:51.799 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-05 00:26:51.815 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-05 00:27:23.629 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-05 00:27:23.699 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-05 00:27:23.703 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-05 00:27:23.704 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-05 00:27:23.734 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-05 00:27:23.753 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-05 00:28:04.363 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-05 00:28:04.424 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-05 00:28:04.427 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-05 00:28:04.427 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-05 00:28:04.447 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-05 00:28:04.456 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-05 00:31:25.792 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-05 00:31:25.846 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-05 00:31:25.848 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-05 00:31:25.849 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-05 00:31:25.885 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-05 00:31:25.900 +05:30 [INF] Applying migration '20260204190119_AddRefreshTokens'.
2026-02-05 00:31:26.018 +05:30 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [Id] int NOT NULL IDENTITY,
    [Token] nvarchar(max) NOT NULL,
    [ExpiresAt] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RefreshTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2026-02-05 00:31:26.030 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RefreshTokens_UserId] ON [RefreshTokens] ([UserId]);
2026-02-05 00:31:26.039 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20260204190119_AddRefreshTokens', N'8.0.2');
